# Docker command to start Portal ArcGIS container in interactive mode;
# you will have to start the server running from a command prompt.
# NOTE: The container will stop when you exit from the shell!

PORTAL_FQDN="portal.wildsong.biz"
PORTAL_NAME="arcgis-server"

# Stop a previous detached server, if any.
docker rm ${PORTAL_NAME}

echo "Docker is starting in interactive mode."
echo "Management URL is http://${PORTAL_FQDN}:7080/arcgis/"
echo "The command to start Portal is portal/startportal.sh"

docker run -it --rm --name ${PORTAL_NAME} --hostname=${PORTAL_FQDN} \
  -d -p 7080:7080 -p 7443:7443 \
  --net arcgis-network \
  -v `pwd`/data/content:/home/arcgis/portal/usr/arcgisportal/content \
  geoceg/${PORTAL_NAME}

echo "${PORTAL_NAME} docker removed."
